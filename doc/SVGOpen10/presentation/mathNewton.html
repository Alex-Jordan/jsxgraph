<html>
    <head>
        <title></title>
        <link rel="stylesheet" type="text/css" href="distrib/jsxgraph.present.css" />
        <!--<link rel="stylesheet" type="text/css" href="distrib/jsxgraph.css" />-->
   <script type="text/javascript" src="distrib/jsxgraphcore.js"></script> 
   <script type="text/javascript" src="distrib/prototype.js"></script>    
    </head>
<body class="jsxgraph_body">
<div  id="jxgbox" class="jxgbox" style="margin-left:90px; width:600px; height:550px; background-color:white;float:right"></div>
<div style="margin:25px">
x<sub>0</sub> is the start value. 
<br><br>
<form>
<input type="text" id="graphterm" value="x*x*x/5" size="15"/>
<input type="button" value="set term" onClick="newGraph(document.getElementById('graphterm').value);">
</form>
</div>

<script type="text/javascript">
// Initial function term
var term = function(x) { return x*x*x/5; };
var graph = function(x) { return term(x); };
 
// Recursion depth
var steps = 11;
// Start value
var s = 3;

</script>		



<script type="text/javascript">
var i;
var board = JXG.JSXGraph.initBoard('jxgbox', {boundingbox:[-3,8,5,-2], axis:true});
var ax = board.create('axis', [[0,0], [1,0]], {strokeColor: 'black'});
var ay = board.create('axis', [[0,0], [0,1]], {strokeColor: 'black'});
 
var g = board.create('functiongraph', [function(x){return graph(x);}],{strokeWidth: 2, dash:0});
var x = board.create('glider',[s,0,ax], {name: 'x_{0}', strokeColor: 'magenta', fillColor: 'yellow'});
 
newGraph(document.getElementById('graphterm').value);
newton(x,steps);	
function xval(board) {
    for (i = 0; i < steps; i++)
        document.getElementById('xv' + i).innerHTML = board.round(JXG.getReference(board, 'x_{' + i + '}').X(),14);
}
 
board.addHook(xval);
 
function newton(p, i) {		
    if(i>0) {
        var f = board.create('glider',[function(){return p.X();}, function(){return graph(p.X())},g], {name: '', style: 3, strokeColor: 'green', fillColor: 'yellow'});
        var l = board.create('line', [p,f],{strokeWidth: 0.5, dash: 1, straightFirst: false, straightLast: false, strokeColor: 'black'});
        var t = board.create('tangent',[f],{strokeWidth: 0.5, strokeColor: '#0080c0', dash: 0});
        var x = board.create('point',[board.intersection(ax,t,0)],{name: 'x_{'+(steps-i+1) + '}', style: 4, strokeColor: 'magenta', fillColor: 'yellow'});
        newton(x,--i);
    }
}	
function newGraph(v) {
	eval("term = function(x){ return "+v+";}");				
	graph = function(x) { return term(x); };
	g.Y = function(x){ return term(x); };
	g.updateCurve();
        board.update();
}
</script>
</body>
</html>
