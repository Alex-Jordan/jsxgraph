<html>
<head>
    <title>JSXGraph example</title>
    <link rel="stylesheet" type="text/css" href="../distrib/jsxgraph.css" />
    <script type="text/javascript" src="http://jsxgraph.uni-bayreuth.de/distrib/MathJax/MathJax.js"></script>
    <script type="text/javascript" src="../src/loadjsxgraph.js"></script>
    <script type="text/javascript" src="../src/CanvasRenderer.js"></script>
    <script type="text/javascript" src="../src/Square.js"></script>
</head>
<body>

<h2>Playground to test things temporarily. May change very often.</h2>

<a href="javascript:zoomPoints();">Zoom all points (new)</a><br />
<a href="javascript:brd.zoomAllPoints();">Zoom all points (old)</a><br />
<a href="javascript:zoomAll();">Zoom all elements (new)</a>

<div style="width:800px">
  <div id="jxgbox" class="jxgbox" style="width:800px; height:800px; float:left"></div>
</div>

<div id="debug" style="display:block;"></div>

<script type="text/javascript">
    /* <![CDATA[ */


    brd = JXG.JSXGraph.initBoard('jxgbox', {boundingbox: [-1.5, 2, 1.5, -1], keepaspectratio:true});

brd.suspendUpdate();
A = brd.create('point',[1,0],{strokeColor:'#901B77',fillColor:'#CA147A'});
B = brd.create('point',[-1,0],{strokeColor:'#901B77',fillColor:'#CA147A'});
C = brd.create('point',[0.2,1.5],{strokeColor:'#901B77',fillColor:'#CA147A'});
pol = brd.create('polygon',[A,B,C], {fillColor:'#FFFF00',lines:{strokeWidth:2,strokeColor:'#009256'}});
for(i=0;i<=2;i++) {
    pol.borders[i].setProperty('strokeColor:#009256','strokeWidth:2');
}

pABC = brd.create('perpendicular',[pol.borders[0],C],{strokeWidth:1,dash:2, name:['','H_c']});
pBCA = brd.create('perpendicular',[pol.borders[1],A],{strokeWidth:1,dash:2, name:['','H_a']});
pCAB = brd.create('perpendicular',[pol.borders[2],B],{strokeWidth:1,dash:2, name:['','H_b']});
pABC[1].setProperty('strokeColor:#901B77','fillColor:#CA147A');
pBCA[1].setProperty('strokeColor:#901B77','fillColor:#CA147A');
pCAB[1].setProperty('strokeColor:#901B77','fillColor:#CA147A');
i1 = brd.create('intersection',[pABC[0],pCAB[0],0],{strokeColor:'#009256',fillColor:'#65B72E',name:'H'});
pABC[0].setProperty({strokeColor:'#000000',dash:1,strokeWidth:1});
pBCA[0].setProperty({strokeColor:'#000000',dash:1,strokeWidth:1});
pCAB[0].setProperty({strokeColor:'#000000',dash:1,strokeWidth:1});

mAB = brd.create('midpoint',[A,B],{strokeColor:'#901B77',fillColor:'#CA147A',name:'M_c'});
mBC = brd.create('midpoint',[B,C],{strokeColor:'#901B77',fillColor:'#CA147A',name:'M_a'});
mCA = brd.create('midpoint',[C,A],{strokeColor:'#901B77',fillColor:'#CA147A',name:'M_b'});
ma = brd.create('line',[mBC,A],{straightFirst:false,straightLast:false,strokeWidth:1,strokeColor:'#333333',dash:2});
mb = brd.create('line',[mCA,B],{straightFirst:false,straightLast:false,strokeWidth:1,strokeColor:'#333333',dash:2});
mc = brd.create('line',[mAB,C],{straightFirst:false,straightLast:false,strokeWidth:1,strokeColor:'#333333',dash:2});
i2 = brd.create('intersection',[ma,mc,0],{strokeColor:'#009256',fillColor:'#65B72E',name:'S'});

i3 = brd.create('circumcirclemidpoint',[A,B,C],{strokeColor:'#009256',fillColor:'#65B72E',name:'U'});
c = brd.create('circumcircle',[A,B,C],{strokeColor:'#000000',dash:3,strokeWidth:1});
c[0].setProperty('visible:false');
c[1].setProperty({strokeColor:'#000000',dash:3,strokeWidth:1});

euler = brd.create('line',[i1,i3],{strokeWidth:2,strokeColor:'#901B77'});
brd.unsuspendUpdate();

return;

    function zoomAll () {
        brd.zoomElements([li]);//JXG.keys(brd.objects));
    }

    function zoomPoints() {
        var e, points = [];

        for (e in brd.objects) {
            if (JXG.isPoint(brd.objects[e]) && brd.objects[e].visProp.visible) {
                points.push(brd.objects[e]);
            }
        }

        brd.zoomElements(points);
    }

    JXG.Options.renderer = 'canvas';
    JXG.Options.text.useMathJax = false;
    JXG.Options.showCopyright = false;

    var brd = JXG.JSXGraph.initBoard('jxgbox', {axis: true, boundingbox:[-5, 5, 5, -5], grid: false, keepaspectratio: true});

    p1 = brd.create('point', [0,0], {withLabel: false});
    p1.setProperty({withLabel: true});

    p2 = brd.create('point', [2,1], {strokeColor: 'green', fillColor: 'green', fixed: true});
    p3 = brd.create('point', [0,1]);
    p4 = brd.create('point', [4,2], {name: "Z"});

    cca = brd.create('circle', [p1, p2]);

    sq = brd.create('square', [p1, p3]);

    li= brd.create('segment', [p3, p4]);
    t = brd.create('text', [4, 5, 'foobar'], {parent: cca, withLabel: false});

    pol = brd.create('polygon', [p1, p2, p3, p4], {
        lines: {
            ids: ['borderid1', 'borderid2', 'borderid3', 'borderid4'],
            colors: ['yellow', 'green', 'red'],
            strokeWidth: 7
        }
    });

    sli = brd.create('slider', [[1, 1], [3, 1], [0, 1, 3]], {
        glider: {
            fillColor: 'green'
        },
        point1: {
            visible: true
        }
    });

    ax = brd.create('ticks', [li, 2]);

    p1.setProperty({
        color: '#00ff00',
        opacity: 0.5,
        size: 15,
        face: 'x',
        strokeWidth: 10,
        shadow: true,
        draft: false
    });

    li.setProperty({
        straightFirst: true,
        straightLast: true,
        dash: 2,
        firstArrow: true
    });


    oldie = 2;

    a = brd.create('polygon', [p1, p2, p3]);
    c = brd.create('circle', [p4, 3], {withLabel: true});

    l = brd.create('axis', [p1, p4], {ticks: {ticksDistance: 1, insertTicks: false}});
    //ti = brd.create('ticks', [l, 1], {drawLabels: false});

    t = brd.create('text', [1, 3, function () { return '\\[e^x\\]'}]);

    bigboy = brd.create('text', [1, 3, 'big boy']);

    fun = brd.create('functiongraph', [function (x) { return p3.X() * Math.sin(x); }, -3, 3], {withLabel: true});

    h = function () {
        if (oldie < 0 && p4.Y() > 0) {
            bigboy.setText('big boy');
        }

        if (oldie > 0 && p4.Y() < 0) {
            bigboy.setText('lil boy');
        }
        oldie = p4.Y();
    };

    brd.addHook(h);

    //brd.update();

    /* ]]> */
</script>
</body>
</html>
